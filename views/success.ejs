<html>
    <title>MelleWS (success)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> 
    <%- include('bar', {req: req, barCol: "139,195,74.black"}); %>
    <div class="w3-container w3-display-middle">
      <h1>Success!</h1>
      <h3>Action completed successfully .</h3>
      <p>The applet's output can be found below.</p>
      <% if (sucString) { %>
        <p style='font-family: "Lucida Console", Monaco, monospace'><%= sucString %></p>
      <% } else {%>
        <p style='font-family: "Lucida Console", Monaco, monospace'>No error defined by applet.</p>
      <% } %>
      <% if (sucUrl) { %>
        <button onclick="copyTC('<%= sucUrl %>')" class="w3-button w3-teal">Copy URL</button>
      <% } %>
    </div>
    <script>
      function copyTC(text) {
        var textArea = document.createElement("textarea");
        textArea.style.position = 'fixed';
        textArea.style.top = 0;
        textArea.style.left = 0;
        textArea.style.width = '2em';
        textArea.style.height = '2em';
        textArea.style.padding = 0;
        textArea.style.border = 'none';
        textArea.style.outline = 'none';
        textArea.style.boxShadow = 'none';
        textArea.style.background = 'transparent';
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
          var successful = document.execCommand('copy');
          var msg = successful ? 'successful' : 'unsuccessful';
          console.log('Copied to clipboard and function returned ' + msg);
        } catch (err) {
          console.log('Unable to copy, your browser likely does not support document.execCommand("copy").');
        }
        document.body.removeChild(textArea);
      }
    </script>
</html>